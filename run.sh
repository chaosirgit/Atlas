#!/bin/bash
# run.sh - Atlas 的"看门狗"脚本
# 它可以让 Atlas 在请求重启后, 自动重新启动以应用更新.

while true; do
    # 运行 Atlas 的主程序
    python3 main.py

    # 检查退出码. 如果是正常退出(比如用户输入exit), 就不再重启.
    # 这里我们简化处理, 假设只要 main.py 结束就重启.
    # 更复杂的逻辑可以未来再添加.
    
    echo "----------------------------------------------"
    echo "🤖 Atlas 核心已退出. 将在1秒后重启以应用更新..."
    echo "----------------------------------------------"
    sleep 1
done
